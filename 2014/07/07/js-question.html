<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Minh Quy Blog - Blogging about stuffs which I learn</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link ref="shortcut icon" href="/assets/images/favicon.ico" type="image/ico" />
    <link rel="stylesheet" type="text/css" href="/assets/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" />
    <!-- This is for syntax highlight -->
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css">
    <!-- Customisation  -->
    <link rel="stylesheet" type="text/css" href="/assets/css/main.css" />

</head>
<body class="home-template">


    <header class="site-head" >
    <div class="vertical">
        <div class="site-head-content" class="inner">
            
            <a href="/about.html">
                <img class="big-profile" src="/assets/images/profile.jpg"/>
            </a>
            <h1 class="blog-title">Minh Quy Blog</h1>
            <h2 class="blog-description">
                Blogging about stuffs which I learn.
                
            </h2>
            <div>
                <a class="icon-twitter" href="https://twitter.com/MQuy90">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/mquy90">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/+MinhQuy90">
                    <span class="hidden">Google+</span>
                </a>
            </div>
        </div>
    </div>
</header>

<main class="content" role="main">

    <article class="post">
        <header class="post-header">
            <a id="blog-logo" href="">
                
                <span class="blog-title">Js for Interview Question</span>
            </a>
        </header>

        <span class="post-meta">
        	<time datetime="2014-07-07">07 Jul 2014</time>
        	
        		on
	        	
	        
       	</span>

        <section class="post-content">
            <p><strong>1.</strong> Define such a, that expression would resolve to true</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">(</span><span class="nx">a</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">a</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">a</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<div><spoiler>
<strong>Method 1:</strong>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span>
  <span class="nx">i</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nx">valueOf</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">i</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<strong>Method 2:</strong>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">global</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="nb">Object</span><span class="p">.</span><span class="nx">defineProperty</span><span class="p">(</span><span class="nx">global</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">get</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">value</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">})(</span><span class="nb">window</span><span class="p">)</span>
</code></pre></div>
What&#39;s different between two define?

<ul>
<li><code>a</code> in Method 1 is Object&#39;s type instead of Integer&#39;s type of Method 2. It leads above expression is only equal in term of value.</li>
<li><code>a</code> in Method 2 can not be changed or listed differ to in Method 1.</li>
<li>There&#39;s no way to modify value of <code>a</code> in Method 2.</li>
</ul>

Object in Javascript can be converted to primitives in three context:

<ul>
<li>Numberic <code>toString</code>: happens when a <em>string representation</em> of an object is required.</li>
<li>String <code>valueOf</code>: performs two cases

<ul>
<li>In function which need a number, for example <code>Math.sin(obj)</code>, <code>isNaN(obj)</code> or <code>+obj</code>.</li>
<li>In comparison like <code>==</code> but not for <code>===</code></li>
</ul></li>
<li>Boolean.</li>
</ul>

Both String conversion and Number conversion try to convert into it&#39;s type firstly, but if not success(not define) they will try the other one.
</spoiler></div>

<p><strong>2.</strong> What&#39;s the different between EMACScript and Javascript?</p>

<div><spoiler>

<ul>
<li>EMACScript is an object-oriented programming language for performing computations and manipulating objects within a host environment.</li>
<li>Javascript is one of well-known EMACScript&#39;s dialect.</li>
</ul>

</spoiler></div>

<p><strong>3.</strong> Why does nearly every object have a toString method?</p>

<div><spoiler>
When object was to be represented as a text value, it need to be converted into String type and <code>toString</code> will be called automatically.<br/>The default <code>toString</code> function will return <code>[object type]</code>.<br/>Common way to use is to detect object class
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">toString</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">;</span>

<span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">new</span> <span class="nb">String</span><span class="p">)</span> <span class="c1">// [object String]</span>
<span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="kc">undefined</span><span class="p">)</span> <span class="c1">// [object Undefined]</span>
</code></pre></div>
</spoiler></div>

<p><strong>4.</strong> Do you know which interpreter Mozilla Firefox uses? Or any other of the browsers?</p>

<div><spoiler>

<ul>
<li>Mozilla Firefox: SpiderMonkey</li>
<li>Chrome: V8</li>
<li>Safari: Nitro</li>
<li>Internet Explorer: Chakra</li>
</ul>

You need to understand the different between javascript engine and layout engine
</spoiler></div>

<p><strong>5.</strong> Is there block scope in JavaScript?</p>

<div><spoiler>
There&#39;s no block scope in javascript. Only declarations(variable and function) which you define in block will be hoisted (equivalent to movie to the top of the function or global code) because they are processed before any code is executed.<br/>For that reason, it is recommended to always declare variables at the top of their scope (the top of global code or function code) and declares functions at the bottom of their one.
</spoiler></div>

<p><strong>6.</strong> Can you explain how Ajax/XMLHttpRequest works?</p>

<div><spoiler>
Ajax stands for Asynchronous Javascript and XML, it&#39;s approach to using a number of existing technologies together, including: <a href="https://developer.mozilla.org/en-US/docs/HTML">HTML</a> or <a href="https://developer.mozilla.org/en-US/docs/XHTML">XHTML</a>, <a href="https://developer.mozilla.org/en-US/docs/CSS">CSS</a>, <a href="https://developer.mozilla.org/en-US/docs/JavaScript">Javascript</a>, <a href="https://developer.mozilla.org/en-US/docs/DOM">DOM</a>, <a href="https://developer.mozilla.org/en-US/docs/XML">XML</a>, <a href="https://developer.mozilla.org/en-US/docs/XSLT">XSLT</a> and most importantly the <a href="https://developer.mozilla.org/en-US/docs/DOM/XMLHttpRequest">XMLHttpRequest</a> object to communicate with server-side scripts.<br/>This picture below will describe how it works<br/><img src="/assets/images/ajax-fig1_small.png" alt=""><br/>The different between ajax and classic web<br/><img src="/assets/images/ajax-fig2_small.png" alt=""><br/></spoiler></div>

<p><strong>7.</strong> What is JSON?</p>

<div><spoiler>
JSON is a syntax for serializing objects, arrays, numbers, strings, booleans and null.<br/>JSON object contains methods for parsing <a href="http://json.org/">Javascript Object Notation</a> and converting values to JSON. It can&#39;t be called or constructed and aside from its method properties(<code>JSON.parse()</code> and <code>JSON.stringify()</code>) it has no interesting functionality of its own.<br/>&#x270D; JSON is not subset of javascript.
In general, JSON spec says that <em>&quot;a string is a sequence of zero or more Unicode characters, wrapped in double quotes, using backslash escapes.&quot;</em> But in javascript <em>&quot;a string can contain anything as long as it&#39;s not a quote, a backslash or line terminator(\u000A, \u000D, \u2028, \u2029)&quot;</em>, therefore two invisible Unicode characters(U+2028, U+2029) are the resason.<br/>For example: <code>{&quot;JSON&quot;:&quot;roâ€¨cks!&quot;}</code>
</spoiler></div>

<p><strong>8.</strong> An example of a singleton pattern?</p>

<div><spoiler>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">global</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">instance</span><span class="p">;</span>

  <span class="kd">function</span> <span class="nx">Singleton</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">instance</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">instance</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">instance</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="nx">global</span><span class="p">.</span><span class="nx">Singleton</span> <span class="o">=</span> <span class="nx">Singleton</span><span class="p">;</span>
<span class="p">})(</span><span class="k">this</span><span class="p">);</span>

<span class="k">new</span> <span class="nx">Singleton</span><span class="p">()</span> <span class="o">===</span> <span class="k">new</span> <span class="nx">Singleton</span><span class="p">()</span>
</code></pre></div>
</spoiler></div>

<p><strong>9.</strong> What&#39;s the difference between <code>undefined</code> and <code>undeclared</code>?</p>

<div><spoiler>
<code>undefined</code> is the one of built-in types. it has a mean that the variable was declared but not initialized. There are three ways to achive &#39;undefined&#39;:

<ul>
<li>declare variable</li>
<li>access not existing property of object</li>
</ul>

<code>undeclared</code> means that the variable wasn&#39;t declared in chaining scope.<br/>declared vs undeclared variables also have mean like that
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">declared</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1">// explicit</span>
<span class="nx">undeclared</span> <span class="o">=</span> <span class="mi">1</span>
</code></pre></div>
</spoiler></div>

<p><strong>10.</strong> Are you familiar with <code>Web Workers</code>?</p>

<div><spoiler>
</spoiler></div>

<p><strong>11</strong> The standard <code>addEventListener</code> is supported in which browsers?</p>

<div><spoiler>
<code>addEventListener</code> is a method registers the specified listener on EvenTarget. The even target may be an Element in document, Document itself, a Window or any other object that supports events(such as XMLHttpRequest).<br/>It is supported in most of browsers except IE 9.<br/>When talking about <code>addEventListener</code>, people often compare it with inline events. Inline events are better in case of browser compatibility but it has many drawbacks.

<ul>
<li>You may only have one inline event assigned.</li>
<li>The context <code>this</code> in case of inline event is global compare to HTML element in case of <code>addEventListener</code>.</li>
</ul>

Microsoft has developed an event registration model, it looks similar to <code>addEventListener</code> but has some important callbacks.

<ul>
<li>Events always bubble, no capturing possibility.</li>
<li><code>this</code> always refers to the windows.</li>
</ul>

<a href="https://developer.mozilla.org/en/docs/Web/API/EventTarget.addEventListener">More details</a>
</spoiler></div>

<p><strong>12.</strong> What is the difference between <code>==</code> and <code>===</code>? Which one would you use?</p>

<div><spoiler>
Main difference is that <code>==</code> compares only value while <code>===</code> compares value and type.<br/>The operand <code>==</code> leads to type conversion, when type conversion is involved in comparsion(ie. non-strict mode) Javascript converts <code>String</code>, <code>Number</code>, <code>Boolean</code> or <code>Object</code> operands as follows:

<ul>
<li><code>Number</code> vs <code>String</code>: try to convert string numeric literal to <code>Number</code></li>
<li>one of the operands is <code>Boolean</code>, the Boolean operand is converted to 1 or 0</li>
<li><code>Object</code> vs <code>Number</code> / <code>String</code>: Object operand is converted to primitive value(if, and only if its comparand is a primitive), a String or a Number, using the valueOf and toString methods</li>
</ul>

<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11.9.1">More details</a>
</spoiler></div>

<p><strong>13.</strong>  what is the difference between <code>var x = 1</code> and <code>x = 1</code>? Answer in as much or as little detail as you feel comfortable</p>

<div><spoiler>
<code>var x = 1</code> is explicit declaration while <code>x = 1</code> is implicit declaration. It leads to

<ul>
<li>Scope inheritance in case 2:

<ul>
<li>if scope chain from execution context doen&#39;t declare(both explicit and implicit) variable x, <code>x</code> will declare and initialize on global with <code>configurable = true</code>.</li>
<li>Otherwise <code>x</code> will reuse that declaration(in parent scope) and set value with <code>1</code>.</li>
</ul></li>
<li>In case 1:

<ul>
<li><code>var x</code> will be declare in <code>execution context</code> with option <code>configurable = false</code> and also be hoisted.</li>
</ul></li>
</ul>

&#x270D; Everytime a function is called, a new execution context is created. Js interpreter calls with 2 stages:

<ul>
<li>Creation Stage: create the <code>scope chain</code>, create <code>variable object</code> and determine the value of <code>this</code>. Create <code>variable object</code> will lead:

<ul>
<li>Create <code>arguments object</code>, check the context for parameters, initialize the name and value and create a reference copy.</li>
<li>Scan the context for function declarations:

<ul>
<li>For each function found, create a property in <code>variable object</code> which has a reference pointer to the function in memory.</li>
<li>If function name exists, the reference pointer value will be overwritten.</li>
</ul></li>
<li>Scan the context for variable declarations:

<ul>
<li>For each one found, create a property in <code>variable object</code> and initialize the value as <code>undefined</code>.</li>
<li>If variable name already exists in the <code>variable object</code>, do nothing and continue scanning.</li>
</ul></li>
</ul></li>
<li>Activation / Code Execution Stage: Assign values, references to functions and execute code.</li>
</ul>

You can think like that
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">executionContextObj</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">scopeChain</span><span class="o">:</span> <span class="p">{</span> <span class="cm">/* variableObject + all parent execution context&#39;s variableObject */</span> <span class="p">},</span>
    <span class="nx">variableObject</span><span class="o">:</span> <span class="p">{</span> <span class="cm">/* function arguments / parameters, inner variable and function declarations */</span> <span class="p">},</span>
    <span class="k">this</span><span class="o">:</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div>
</spoiler></div>

<p><strong>14.</strong> Difference between Classical Inheritance and Prototypal Inheritance</p>

<div><spoiler>
In a nutshell, prototypal inheritance is when an object inherits(*) from another object. This is differ from classical inheritance, in which a class inherits from another class.

<table><thead>
<tr>
<th>Classical Inheritance</th>
<th>Prototypal Inheritance</th>
</tr>
</thead><tbody>
<tr>
<td>Classes typically define the structure of objects</td>
<td>The objects themeselves define their own structure and this one can be inherited and modified by other object at the runtime</td>
</tr>
<tr>
<td>It is static, means that after defining you can&#39;t modify its behavior at runtime</td>
<td>It is dynamic, you can add new properties to prototypes after they are created, this allows you to add new methods to a prototype which will be automatically made available to all the objects which delegate to that prototype</td>
</tr>
<tr>
<td>It&#39;s quite complicate, containing many aspect like abstraction, encapsulation, inheritance and polymorphism therefore it provides some stuffs for you to easily achive OOP, also looks more naturally</td>
<td>It&#39;s simple, most of OOP aspect you need to implement to achive that</td>
</tr>
<tr>
<td>Tight coupling, the gorilla / banna problem</td>
<td></td>
</tr>
</tbody></table>

(*): Using the word &quot;inherit&quot; in there means that it&#39;s not really inherit, it&#39;s something like delegate through the internal property [[Prototype]]. Shortly, object A &quot;inherits&quot; from object B, when you ask for a property or a method on an object, if it&#39;s not there, the internal [[Get]] lookup operation will traverse the [[Prototype]] chain not like in classical language, a copy-operation where behavior from the &quot;parent&quot; is duplicated into the &quot;child&quot;.
</spoiler></div>

<p><strong>15.</strong> What is difference between private variable, public variable and static variable? How we achieve this in JS?</p>

<div><spoiler>
Private variable is only visible in current scope.<br/>Public variable is visible in both current scope and other scopes through accessing.<br/>Static variable belong to class intead of an instance.
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">Variable</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="kr">private</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="kr">public</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>

<span class="p">}</span>
<span class="nx">Variable</span><span class="p">.</span><span class="kr">static</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
</code></pre></div>
</spoiler></div>

<p><strong>16.</strong> How to achieve inheritance? Compare ways of inheritance. What are the downsides?</p>

<div><spoiler>
There are three common ways to achieve inheritance.

<ul>
<li>Pseudo-classical pattern, assigning prototype to prototype.</li>
<li>Function pattern, declaring attribute in side object and inherit through call it again.</li>
<li>Prototypal pattern, using <code>Object.create</code>.</li>
</ul>

<a href="http://davidshariff.com/blog/javascript-inheritance-patterns/">More details</a><br/>In pseudo-classical pattern, parent and child share same prototype. It leads drawback that when we modify child it will also change in parent.<br/>In function pattern, they don&#39;t use prototype concept and is very strict to follow and everytime we create new object javascript engine need to recompile everything.<br/>In prototypal pattern, it cames as standard of EMACScript 5 therefore it leads to browser compability.<br/></spoiler></div>

<p><strong>17.</strong> Why extending array is bad idea?</p>

<div><spoiler>
Javascript prototypal makes it easy to extend all array objects with custom methods. But normally, we extend via <code>Array.prototype</code> because it&#39;s much easier and more efficient
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">last</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
<span class="p">};</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nx">last</span><span class="p">();</span> <span class="c1">// 3</span>
</code></pre></div>
However, extending <code>Array.prototype</code> comes with the price; that price is change of collisions. When scripts coexists with other scripts in an application, it&#39;s important for those scripts not to conflict with each other. Extending <code>Array.prototype</code> while tempting and seemingly useful, unfortunately isn&#39;t very safe in a diverse environment. Different scripts can end up define same-named methods but with different behavior. Such behavior often lead to inconsitent behavior and hard-to-track errors.<br/>Collisions can happen not only with user-defined code but also with <strong>proprietary methods</strong> implements by environment itseft(e.g <code>Array.prototype.indexOf</code>) or from <strong>future standards</strong>
</spoiler></div>

<p><strong>18.</strong> Explain how to prototypal inheritance works?</p>

<div><spoiler>
According to section <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-8.6.2">8.6.2</a> in ECMA-262, all objects have an internal property called [[Prototype]]. The value of this property is either <strong>null</strong> or an object and is used for implementing inheritance
</spoiler></div>

<p><strong>19.</strong> Explain function hoisting?</p>

<div><spoiler>
Function hoisting happens when it is a function declaration and was declared in other&#39;s scope. In the first step, js engine create variable object via scanning <code>var</code> and <code>function declaration</code>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">function</span> <span class="nx">hositing</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// code here</span>
  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="c1">// code here</span>
  <span class="kd">function</span> <span class="nx">action</span><span class="p">()</span> <span class="p">{};</span>
<span class="p">}</span>
</code></pre></div>
</spoiler></div>

<p><strong>20.</strong> Explain event delegation (what&#39;s the difference between on and bind is in jQuery)?</p>

<div><spoiler>
If there are many element inside one parent and you want to handle events on all of them - don&#39;t bind handler to each element. Instead, bind the single handler to their parent and get the child from <code>event.target</code>
There&#39;re two main benefits:

<ul>
<li>Memory footprint which used by event listeners goes down.</li>
<li>Also work for new element which is created dynamically.</li>
</ul>

But it has its own limits

<ul>
<li>Most of event do bubble but not all of them.</li>
<li>Delegation puts extra load on the browser because the handler runs when an event happens anywhere inside the container</li>
</ul>

jQuery bind is used for attaching an event handler directly to elements.
</spoiler></div>

<p><strong>21.</strong> What are promises?</p>

<div><spoiler>

<ul>
<li>Promises: describe an object that acts as a proxy for a result that is normally not finished.</li>
<li>Callback: is simply a function you pass into another function so that function can call it at a later time.</li>
</ul>

There are many <a href="http://wiki.commonjs.org/wiki/Promises">Promises Proposals</a> but the the most popular one is <a href="http://wiki.commonjs.org/wiki/Promises/A">CommonJS Promises A</a>. The meat of it is entirely about specifying the behavior of a single function, <code>then</code>:

<blockquote>
<em>A promise is defined as an object that has a function as the value for the property then:</em>
<br/>
<br/>
<code>then(fulfilledHandler, errorHandler, progressHandler)</code>
<br/>
<br/>
<em>Adds a <code>fulfilledHandler</code>, <code>errorHandler</code>, and <code>progressHandler</code> to be called for completion of a promise. The <code>fulfilledHandler</code> is called when the promise is fulfilled. The <code>errorHandler</code> is called when a promise fails. The <code>progressHandler</code> is called for progress events. All arguments are optional and non-function values are ignored. The <code>progressHandler</code> is not only an optional argument, but progress events are purely optional. Promise implementors are not required to ever call a <code>progressHandler</code> (the <code>progressHandler</code> may be ignored), this parameter exists so that implementors may call it if they have progress events to report.</em><br/><em>This function should return a new promise that is fulfilled when the given <code>fulfilledHandler</code> or <code>errorHandler</code> callback is finished. This allows promise operations to be chained together. The value returned from the callback handler is the fulfillment value for the returned promise. If the callback throws an error, the returned promise will be moved to failed state.</em>
</blockquote>

</spoiler></div>

<p><strong>22.</strong> what are some things you can do to improve page loading speed?</p>

<div><spoiler>
There&#39;re some ways to improve page loading:

<ul>
<li>Should dynamic load javascript and css to prevent blocking render in DOM.</li>
<li>Minimize the number of http requests to server as little as possible

<ul>
<li>Combine multiple style sheets into one.</li>
<li>Use css instead of images whenever possible.</li>
<li>Reduce scripts and put them at the bottom of the page.</li>
<li>Use image sprite.</li>
</ul></li>
<li>Reduce server response time(less then 200ms).</li>
<li>Enable compression.</li>
<li>Enable browser caching.</li>
<li>Minify resources(html, css, javascript).</li>
<li>Reduce the number of plugins you use on your site.</li>
<li>Reduce redirects.</li>
<li>Use a Content Delivery Network.</li>
</ul>

Tool to check performance:

<ul>
<li><a href="http://yslow.org/">Yslow</a></li>
<li><a href="https://developers.google.com/speed/pagespeed/">Page Speed</a></li>
<li><a href="http://tools.pingdom.com/fpt/">Pingdom</a></li>
</ul>

</spoiler></div>

<p><strong>23.</strong> What is the significance of including <code>&#39;use strict&#39;</code> at the beginning of a JavaScript source file?</p>

<div><spoiler>
There&#39;re some reasons why people use strict mode:

<ul>
<li>security.</li>
<li>to avoid what they consider to error-prone features.</li>
<li>to get enhanced in error checking(means it will throw exceptions in situations that are not specified as errors in non-strict mode).</li>
<li>other reasons of their choosing.</li>
</ul>

</spoiler></div>

<p><strong>24.</strong> What&#39;s the different between function declaration and function expression</p>

<div><spoiler>
The main difference is about hosting(in declaration not in expression).
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">FunctionDeclaration</span> <span class="o">:</span>
<span class="kd">function</span> <span class="nx">Identifier</span> <span class="p">(</span> <span class="nx">FormalParameterListopt</span> <span class="p">)</span> <span class="p">{</span> <span class="nx">FunctionBody</span> <span class="p">}</span>
<span class="nx">FunctionExpression</span> <span class="o">:</span>
<span class="kd">function</span> <span class="nx">Identifieropt</span> <span class="p">(</span> <span class="nx">FormalParameterListopt</span> <span class="p">)</span> <span class="p">{</span> <span class="nx">FunctionBody</span> <span class="p">}</span>
</code></pre></div>
<a href="http://kangax.github.io/nfe">Named function expression demystified</a><br/>There&#39;re four ways to define function

<ol>
<li>a function defined with the Function constructor assigned to the variable multiply</li>
</ol>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">var</span> <span class="nx">multiply</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Function</span><span class="p">(</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;return x * y;&quot;</span><span class="p">);</span>
</code></pre></div>
<ol>
<li>a function declaration of a function named multiply</li>
</ol>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">function</span> <span class="nx">multiply</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></div>
<ol>
<li>a function expression of an anonymous function assigned to the variable multiply</li>
</ol>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">var</span> <span class="nx">multiply</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></div>
<ol>
<li>a function expression of a function named func_name assigned to the variable multiply</li>
</ol>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">var</span> <span class="nx">multiply</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">func_name</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">y</span>
  <span class="p">}</span>
</code></pre></div>
<ul>
<li>A function defined by a <code>Function</code> constructor does not inherit any scope other than the global scope</li>
<li>Functions defined by function expressions and declarations are parsed only once while those defined by the <code>Function</code> constructor are not.</li>
</ul>

&#x270D; function expressions and declarations nested within the function generated by parsing a <code>Function constructor</code> string aren&#39;t parsed repeatly<br/><a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions_and_function_scope">Mozilla function and function scope</a>
</spoiler></div>

<p><strong>25.</strong> How would you change the context of the function?</p>

<div><spoiler>
There&#39;re three ways to change context: <code>bind</code>, <code>call</code> and <code>apply</code>

<ul>
<li><code>bind</code>: create function with new context by passing parameters.</li>
<li><code>call</code> and <code>apply</code>: call function with new context. They are different each other through the way they pass parameters to function</li>
</ul>

Ex: new XXX()
There&#39;re 4 steps happened when <code>new</code> was called:

<ul>
<li>It creates new object.</li>
<li>It sets the constructor to object XXX.</li>
<li>It sets up object to delegate to XXX.prototype.</li>
<li>It call XXX() in the context of new object.</li>
</ul>

</spoiler></div>

<p><strong>26.</strong> About <code>typeof</code> and <code>instanceOf</code> operators, <code>constructor</code> property?</p>

<div><spoiler>
Object are aggregations of properties. A properties can reference an object or a primitive. Primitives are values, they have no properties. Because Javascript will readily coerce between primitivies and objects.<br/>&#x270D; All examples below are only in non-strict mode. strict mode is quite difference.
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">returnMe</span><span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">a</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">b</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">returnMe</span><span class="p">();</span>

<span class="nx">a</span><span class="p">;</span> <span class="c1">//&quot;abc&quot;</span>
<span class="k">typeof</span> <span class="nx">a</span><span class="p">;</span> <span class="c1">//&quot;string&quot; (still a primitive)</span>
<span class="nx">b</span><span class="p">;</span> <span class="c1">//&quot;abc&quot;</span>
<span class="k">typeof</span> <span class="nx">b</span><span class="p">;</span> <span class="c1">//&quot;object&quot;</span>
<span class="nx">a</span> <span class="o">===</span> <span class="nx">b</span><span class="p">;</span> <span class="c1">// false</span>
</code></pre></div>
In this case string value is coerced to string object in order to access the property returnMe. The string object is only used for a fraction of second after which it is sacrificed to the Gods of garbage collection. But in this case, we prevent GC through assign to variable.<br/>This is what realy happen
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">primitive</span> <span class="o">=</span> <span class="s2">&quot;september&quot;</span><span class="p">;</span>
<span class="nx">primitive</span><span class="p">.</span><span class="nx">vowels</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="c1">//new object created to set property</span>
<span class="p">(</span><span class="k">new</span> <span class="nb">String</span><span class="p">(</span><span class="s2">&quot;september&quot;</span><span class="p">)).</span><span class="nx">vowels</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

<span class="nx">primitive</span><span class="p">.</span><span class="nx">vowels</span><span class="p">;</span>
<span class="c1">//another new object created to retrieve property</span>
<span class="p">(</span><span class="k">new</span> <span class="nb">String</span><span class="p">(</span><span class="s2">&quot;september&quot;</span><span class="p">)).</span><span class="nx">vowels</span><span class="p">;</span> <span class="c1">//undefined</span>
</code></pre></div>
More details: <a href="http://javascriptweblog.wordpress.com/2010/09/27/the-secret-life-of-javascript-primitives/">Secret of Javascript Primitives</a>

<ul>
<li><code>typeof</code>: return built-in type, it has some issues in cases of null return <code>object</code>, any object type other function return <code>object</code>. Normally, people will define their own function instead of <code>typeof</code> using <code>Object.prototype.toString.call()</code> to get internal [[Class]].</li>
</ul>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">var</span> <span class="nx">toType</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">({}).</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">).</span><span class="nx">match</span><span class="p">(</span><span class="sr">/\s([a-zA-Z]+)/</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toLowerCase</span><span class="p">()</span>
  <span class="p">}</span>
</code></pre></div>
<ul>
<li><code>instanceOf</code>: check whether anything from left-hand object&#39;s prototype chain is the same object as what&#39;s reference by prototype property of right-hand object.
The problem arise when it comes to scripting in multi-frame DOM environments <a href="http://perfectionkills.com/instanceof-considered-harmful-or-how-to-write-a-robust-isarray/">instanceOf harmful</a></li>
</ul>

</spoiler></div>

<p><strong>27.</strong> List every way the browser (using HTML, JS or CSS) can communicate with the server?</p>

<div><spoiler>
There&#39;re four common ways to communiate with the server:

<ul>
<li>Ajax</li>
<li>Tag: Iframe, Embed, Object, Video, Audio, Image.</li>
<li>Script tag injection</li>
<li>Websocket</li>
</ul>

</spoiler></div>

<p><strong>28.</strong> Using object as key?</p>

<div><spoiler>
A key in object can be only <code>string</code>, therefore if object is used as key, object will be converted to <code>string</code> type via <code>toString</code> method
</spoiler></div>

<p>&#x270D; There&#39;re the definition I copy from Internet.</p>

<p><strong>29.</strong> What&#39;s closure?</p>

<div><spoiler>
Closure is side-effect of lexical scoping. There are two types of scoping: lexical, dynamic. Lexical scoping seem to be more popuplar than dynamic scope.

<ul>
<li>Lexical scoping: is statically defined by the function&#39;s physical placement within the written source code.</li>
</ul>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="kd">function</span> <span class="nx">outter</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="kd">function</span> <span class="nx">inner</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
      <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div>
<ul>
<li>Dynamic scoping:</li>
</ul>
<div class="highlight"><pre><code class="language-lisp" data-lang="lisp">  <span class="nv">void</span> <span class="nv">dynamic</span><span class="p">()</span> <span class="nv">{</span>
      <span class="nv">console.log</span><span class="p">(</span><span class="nv">x</span><span class="p">)</span>
  <span class="nv">}</span>

  <span class="nv">void</span> <span class="nv">main</span><span class="p">()</span> <span class="nv">{</span>
      <span class="nv">var</span> <span class="nv">x</span> <span class="nb">=</span> <span class="mi">1</span><span class="c1">;</span>
      <span class="nv">dynamic</span><span class="p">()</span><span class="c1">;</span>
  <span class="nv">}</span>
</code></pre></div>
It happens through [[scope]] property, more details in question 13.
</spoiler></div>

<p><strong>.30</strong> Callstack?</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">);</span>

<span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Hi&#39;</span><span class="p">);</span> <span class="p">});</span>

<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10000</span> <span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Instance &#39;</span> <span class="o">+</span> <span class="nx">i</span><span class="p">);</span>
</code></pre></div>
<div><spoiler>
Image describe the relative between callstack in js
<img src="http://www.appsdev.is.ed.ac.uk/blog/wp-content/uploads/2015/03/Event-loop.png" alt="callstack"> (more details <a href="http://danmartensen.svbtle.com/events-concurrency-and-javascript">callstack</a>)<br/>Callback function only calls when current stack which contains this function is empty. In this case, it is called with this order
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">Hello</span>
<span class="nx">Intance</span> <span class="mi">1</span>
<span class="p">...</span>
<span class="nx">Instance</span> <span class="mi">10000</span>
<span class="nx">Hi</span>
</code></pre></div>
</spoiler></div>

        </section>

        

        <br/>
        <br/>
        <br/>
        <footer class="post-footer">
        	<!-- If we want to display author's name and bio -->
            
                <section class="author">
                	<header> <a href=""> <img class="profile" src="/assets/images/profile.jpg" alt="Author's profile picture"></a></header>
                	<article>
                		<!-- Author Name -->
                    	<h4> MQuy </h4>
                    	<!-- Author Bio -->
                    	<p>
                    		Hey, I'm Ruby on Rails Developer, interest in stuffs like JS, C++
                    	</p>
                    </article>
                </section>
            

            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=Js for Interview Question&amp;url=http://mquy.github.io//2014/07/07/js-question.html"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://mquy.github.io//2014/07/07/js-question.html"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://mquy.github.io//2014/07/07/js-question.html"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

            

        </footer>

    </article>

</main>


    <footer class="site-footer">
        <a class="subscribe icon-feed" href="rss.xml"><span class="tooltip">Subscribe!</span></a>
        <div class="inner">
             <section class="copyright">All content copyright <a href="">Minh Quy Blog</a> &copy;  &bull; All rights reserved.</section>
             <section class="poweredby">Made with Jekyll using <a href="http://github.com/rosario/kasper">Kasper theme</a></section>
        </div>
    </footer>


    <script type="text/javascript" src="/assets/js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/index.js"></script>

    <!-- Google Analytics Tracking code -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-XXXXXXXX-X']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
</body>
</html>
